{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":26,"index":155}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const API_URL = `${EXPO_PUBLIC_BACKEND_URL}/api`;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        const storedUser = await SecureStore.getItemAsync('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (login, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          login,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await SecureStore.deleteItemAsync('auth_token');\n        await SecureStore.deleteItemAsync('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":128,"map":[[28,2,38,0,"exports"],[28,9,38,0],[28,10,38,0,"AuthProvider"],[28,22,38,0],[28,25,38,0,"AuthProvider"],[28,37,38,0],[29,2,116,0,"exports"],[29,9,116,0],[29,10,116,0,"useAuth"],[29,17,116,0],[29,20,116,0,"useAuth"],[29,27,116,0],[30,2,1,0],[30,6,1,0,"_react"],[30,12,1,0],[30,15,1,0,"require"],[30,22,1,0],[30,23,1,0,"_dependencyMap"],[30,37,1,0],[31,2,2,0],[31,6,2,0,"_expoSecureStore"],[31,22,2,0],[31,25,2,0,"require"],[31,32,2,0],[31,33,2,0,"_dependencyMap"],[31,47,2,0],[32,2,2,0],[32,6,2,0,"SecureStore"],[32,17,2,0],[32,20,2,0,"_interopNamespace"],[32,37,2,0],[32,38,2,0,"_expoSecureStore"],[32,54,2,0],[33,2,3,0],[33,6,3,0,"_axios"],[33,12,3,0],[33,15,3,0,"require"],[33,22,3,0],[33,23,3,0,"_dependencyMap"],[33,37,3,0],[34,2,3,0],[34,6,3,0,"axios"],[34,11,3,0],[34,14,3,0,"_interopDefault"],[34,29,3,0],[34,30,3,0,"_axios"],[34,36,3,0],[35,2,3,26],[35,6,3,26,"_reactJsxDevRuntime"],[35,25,3,26],[35,28,3,26,"require"],[35,35,3,26],[35,36,3,26,"_dependencyMap"],[35,50,3,26],[36,2,5,0],[36,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[36,31,5,29],[36,34,5,32,"process"],[36,41,5,39],[36,42,5,40,"env"],[36,45,5,43],[36,46,5,44,"EXPO_PUBLIC_BACKEND_URL"],[36,69,5,67],[37,2,6,0],[37,8,6,6,"API_URL"],[37,15,6,13],[37,18,6,16],[37,21,6,19,"EXPO_PUBLIC_BACKEND_URL"],[37,44,6,42],[37,50,6,48],[38,2,36,0],[38,8,36,6,"AuthContext"],[38,19,36,17],[38,35,36,20],[38,39,36,20,"createContext"],[38,45,36,33],[38,46,36,33,"createContext"],[38,59,36,33],[38,61,36,63,"undefined"],[38,70,36,72],[38,71,36,73],[39,2,38,7],[39,11,38,16,"AuthProvider"],[39,23,38,28,"AuthProvider"],[39,24,38,29],[40,4,38,31,"children"],[41,2,38,71],[41,3,38,72],[41,5,38,74],[42,4,39,2],[42,10,39,8],[42,11,39,9,"user"],[42,15,39,13],[42,17,39,15,"setUser"],[42,24,39,22],[42,25,39,23],[42,28,39,26],[42,32,39,26,"useState"],[42,38,39,34],[42,39,39,34,"useState"],[42,47,39,34],[42,49,39,48],[42,53,39,52],[42,54,39,53],[43,4,40,2],[43,10,40,8],[43,11,40,9,"token"],[43,16,40,14],[43,18,40,16,"setToken"],[43,26,40,24],[43,27,40,25],[43,30,40,28],[43,34,40,28,"useState"],[43,40,40,36],[43,41,40,36,"useState"],[43,49,40,36],[43,51,40,52],[43,55,40,56],[43,56,40,57],[44,4,41,2],[44,10,41,8],[44,11,41,9,"isLoading"],[44,20,41,18],[44,22,41,20,"setIsLoading"],[44,34,41,32],[44,35,41,33],[44,38,41,36],[44,42,41,36,"useState"],[44,48,41,44],[44,49,41,44,"useState"],[44,57,41,44],[44,59,41,45],[44,63,41,49],[44,64,41,50],[45,4,43,2],[45,8,43,2,"useEffect"],[45,14,43,11],[45,15,43,11,"useEffect"],[45,24,43,11],[45,26,43,12],[45,32,43,18],[46,6,44,4,"loadStoredAuth"],[46,20,44,18],[46,21,44,19],[46,22,44,20],[47,4,45,2],[47,5,45,3],[47,7,45,5],[47,9,45,7],[47,10,45,8],[48,4,47,2],[48,10,47,8,"loadStoredAuth"],[48,24,47,22],[48,27,47,25],[48,33,47,25,"loadStoredAuth"],[48,34,47,25],[48,39,47,37],[49,6,48,4],[49,10,48,8],[50,8,49,6],[50,14,49,12,"storedToken"],[50,25,49,23],[50,28,49,26],[50,34,49,32,"SecureStore"],[50,45,49,43],[50,46,49,44,"getItemAsync"],[50,58,49,56],[50,59,49,57],[50,71,49,69],[50,72,49,70],[51,8,50,6],[51,14,50,12,"storedUser"],[51,24,50,22],[51,27,50,25],[51,33,50,31,"SecureStore"],[51,44,50,42],[51,45,50,43,"getItemAsync"],[51,57,50,55],[51,58,50,56],[51,69,50,67],[51,70,50,68],[52,8,52,6],[52,12,52,10,"storedToken"],[52,23,52,21],[52,27,52,25,"storedUser"],[52,37,52,35],[52,39,52,37],[53,10,53,8,"setToken"],[53,18,53,16],[53,19,53,17,"storedToken"],[53,30,53,28],[53,31,53,29],[54,10,54,8,"setUser"],[54,17,54,15],[54,18,54,16,"JSON"],[54,22,54,20],[54,23,54,21,"parse"],[54,28,54,26],[54,29,54,27,"storedUser"],[54,39,54,37],[54,40,54,38],[54,41,54,39],[55,8,55,6],[56,6,56,4],[56,7,56,5],[56,8,56,6],[56,15,56,13,"error"],[56,20,56,18],[56,22,56,20],[57,8,57,6,"console"],[57,15,57,13],[57,16,57,14,"error"],[57,21,57,19],[57,22,57,20],[57,43,57,41],[57,45,57,43,"error"],[57,50,57,48],[57,51,57,49],[58,6,58,4],[58,7,58,5],[58,16,58,14],[59,8,59,6,"setIsLoading"],[59,20,59,18],[59,21,59,19],[59,26,59,24],[59,27,59,25],[60,6,60,4],[61,4,61,2],[61,5,61,3],[62,4,63,2],[62,10,63,8,"login"],[62,15,63,13],[62,18,63,16],[62,24,63,16,"login"],[62,25,63,23,"login"],[62,30,63,36],[62,32,63,38,"password"],[62,40,63,54],[62,45,63,59],[63,6,64,4],[63,10,64,8],[64,8,65,6],[64,14,65,12,"response"],[64,22,65,20],[64,25,65,23],[64,31,65,29,"axios"],[64,36,65,34],[64,37,65,34,"default"],[64,44,65,34],[64,45,65,35,"post"],[64,49,65,39],[64,50,65,40],[64,53,65,43,"API_URL"],[64,60,65,50],[64,73,65,63],[64,75,65,65],[65,10,66,8,"login"],[65,15,66,13],[66,10,67,8,"password"],[67,8,68,6],[67,9,68,7],[67,10,68,8],[68,8,70,6],[68,14,70,12],[69,10,70,14,"access_token"],[69,22,70,26],[70,10,70,28,"user"],[70,14,70,32],[70,16,70,34,"userData"],[71,8,70,43],[71,9,70,44],[71,12,70,47,"response"],[71,20,70,55],[71,21,70,56,"data"],[71,25,70,60],[72,8,72,6],[72,14,72,12,"SecureStore"],[72,25,72,23],[72,26,72,24,"setItemAsync"],[72,38,72,36],[72,39,72,37],[72,51,72,49],[72,53,72,51,"access_token"],[72,65,72,63],[72,66,72,64],[73,8,73,6],[73,14,73,12,"SecureStore"],[73,25,73,23],[73,26,73,24,"setItemAsync"],[73,38,73,36],[73,39,73,37],[73,50,73,48],[73,52,73,50,"JSON"],[73,56,73,54],[73,57,73,55,"stringify"],[73,66,73,64],[73,67,73,65,"userData"],[73,75,73,73],[73,76,73,74],[73,77,73,75],[74,8,75,6,"setToken"],[74,16,75,14],[74,17,75,15,"access_token"],[74,29,75,27],[74,30,75,28],[75,8,76,6,"setUser"],[75,15,76,13],[75,16,76,14,"userData"],[75,24,76,22],[75,25,76,23],[76,6,77,4],[76,7,77,5],[76,8,77,6],[76,15,77,13,"error"],[76,20,77,23],[76,22,77,25],[77,8,78,6],[77,14,78,12],[77,18,78,16,"Error"],[77,23,78,21],[77,24,78,22,"error"],[77,29,78,27],[77,30,78,28,"response"],[77,38,78,36],[77,40,78,38,"data"],[77,44,78,42],[77,46,78,44,"detail"],[77,52,78,50],[77,56,78,54],[77,70,78,68],[77,71,78,69],[78,6,79,4],[79,4,80,2],[79,5,80,3],[80,4,82,2],[80,10,82,8,"register"],[80,18,82,16],[80,21,82,19],[80,27,82,26,"data"],[80,31,82,44],[80,35,82,49],[81,6,83,4],[81,10,83,8],[82,8,84,6],[82,14,84,12,"response"],[82,22,84,20],[82,25,84,23],[82,31,84,29,"axios"],[82,36,84,34],[82,37,84,34,"default"],[82,44,84,34],[82,45,84,35,"post"],[82,49,84,39],[82,50,84,40],[82,53,84,43,"API_URL"],[82,60,84,50],[82,76,84,66],[82,78,84,68,"data"],[82,82,84,72],[82,83,84,73],[83,8,86,6],[83,14,86,12],[84,10,86,14,"access_token"],[84,22,86,26],[85,10,86,28,"user"],[85,14,86,32],[85,16,86,34,"userData"],[86,8,86,43],[86,9,86,44],[86,12,86,47,"response"],[86,20,86,55],[86,21,86,56,"data"],[86,25,86,60],[87,8,88,6],[87,14,88,12,"SecureStore"],[87,25,88,23],[87,26,88,24,"setItemAsync"],[87,38,88,36],[87,39,88,37],[87,51,88,49],[87,53,88,51,"access_token"],[87,65,88,63],[87,66,88,64],[88,8,89,6],[88,14,89,12,"SecureStore"],[88,25,89,23],[88,26,89,24,"setItemAsync"],[88,38,89,36],[88,39,89,37],[88,50,89,48],[88,52,89,50,"JSON"],[88,56,89,54],[88,57,89,55,"stringify"],[88,66,89,64],[88,67,89,65,"userData"],[88,75,89,73],[88,76,89,74],[88,77,89,75],[89,8,91,6,"setToken"],[89,16,91,14],[89,17,91,15,"access_token"],[89,29,91,27],[89,30,91,28],[90,8,92,6,"setUser"],[90,15,92,13],[90,16,92,14,"userData"],[90,24,92,22],[90,25,92,23],[91,6,93,4],[91,7,93,5],[91,8,93,6],[91,15,93,13,"error"],[91,20,93,23],[91,22,93,25],[92,8,94,6],[92,14,94,12],[92,18,94,16,"Error"],[92,23,94,21],[92,24,94,22,"error"],[92,29,94,27],[92,30,94,28,"response"],[92,38,94,36],[92,40,94,38,"data"],[92,44,94,42],[92,46,94,44,"detail"],[92,52,94,50],[92,56,94,54],[92,77,94,75],[92,78,94,76],[93,6,95,4],[94,4,96,2],[94,5,96,3],[95,4,98,2],[95,10,98,8,"logout"],[95,16,98,14],[95,19,98,17],[95,25,98,17,"logout"],[95,26,98,17],[95,31,98,29],[96,6,99,4],[96,10,99,8],[97,8,100,6],[97,14,100,12,"SecureStore"],[97,25,100,23],[97,26,100,24,"deleteItemAsync"],[97,41,100,39],[97,42,100,40],[97,54,100,52],[97,55,100,53],[98,8,101,6],[98,14,101,12,"SecureStore"],[98,25,101,23],[98,26,101,24,"deleteItemAsync"],[98,41,101,39],[98,42,101,40],[98,53,101,51],[98,54,101,52],[99,8,102,6,"setToken"],[99,16,102,14],[99,17,102,15],[99,21,102,19],[99,22,102,20],[100,8,103,6,"setUser"],[100,15,103,13],[100,16,103,14],[100,20,103,18],[100,21,103,19],[101,6,104,4],[101,7,104,5],[101,8,104,6],[101,15,104,13,"error"],[101,20,104,18],[101,22,104,20],[102,8,105,6,"console"],[102,15,105,13],[102,16,105,14,"error"],[102,21,105,19],[102,22,105,20],[102,42,105,40],[102,44,105,42,"error"],[102,49,105,47],[102,50,105,48],[103,6,106,4],[104,4,107,2],[104,5,107,3],[105,4,109,2],[105,24,110,4],[105,28,110,4,"_reactJsxDevRuntime"],[105,47,110,4],[105,48,110,4,"jsxDEV"],[105,54,110,4],[105,56,110,5,"AuthContext"],[105,67,110,16],[105,68,110,17,"Provider"],[105,76,110,25],[106,6,110,26,"value"],[106,11,110,31],[106,13,110,33],[107,8,110,35,"user"],[107,12,110,39],[108,8,110,41,"token"],[108,13,110,46],[109,8,110,48,"login"],[109,13,110,53],[110,8,110,55,"register"],[110,16,110,63],[111,8,110,65,"logout"],[111,14,110,71],[112,8,110,73,"isLoading"],[113,6,110,83],[113,7,110,85],[114,6,110,85,"children"],[114,14,110,85],[114,16,111,7,"children"],[115,4,111,15],[116,6,111,15,"fileName"],[116,14,111,15],[116,16,111,15,"_jsxFileName"],[116,28,111,15],[117,6,111,15,"lineNumber"],[117,16,111,15],[118,6,111,15,"columnNumber"],[118,18,111,15],[119,4,111,15],[119,11,112,26],[119,12,112,27],[120,2,114,0],[121,2,116,7],[121,11,116,16,"useAuth"],[121,18,116,23,"useAuth"],[121,19,116,23],[121,21,116,26],[122,4,117,2],[122,10,117,8,"context"],[122,17,117,15],[122,20,117,18],[122,24,117,18,"useContext"],[122,30,117,28],[122,31,117,28,"useContext"],[122,41,117,28],[122,43,117,29,"AuthContext"],[122,54,117,40],[122,55,117,41],[123,4,118,2],[123,8,118,6,"context"],[123,15,118,13],[123,20,118,18,"undefined"],[123,29,118,27],[123,31,118,29],[124,6,119,4],[124,12,119,10],[124,16,119,14,"Error"],[124,21,119,19],[124,22,119,20],[124,67,119,65],[124,68,119,66],[125,4,120,2],[126,4,121,2],[126,11,121,9,"context"],[126,18,121,16],[127,2,122,0],[128,0,122,1],[128,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCqC;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJc;iBKE;GLS;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}
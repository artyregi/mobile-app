{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":26,"index":155}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const API_URL = `${EXPO_PUBLIC_BACKEND_URL}/api`;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        const storedUser = await SecureStore.getItemAsync('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (login, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          login,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('auth_token', access_token);\n        await SecureStore.setItemAsync('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await SecureStore.deleteItemAsync('auth_token');\n        await SecureStore.deleteItemAsync('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":138,"map":[[30,2,38,0,"exports"],[30,9,38,0],[30,10,38,0,"AuthProvider"],[30,22,38,0],[30,25,38,0,"AuthProvider"],[30,37,38,0],[31,2,116,0,"exports"],[31,9,116,0],[31,10,116,0,"useAuth"],[31,17,116,0],[31,20,116,0,"useAuth"],[31,27,116,0],[32,2,122,1],[32,6,122,1,"_expoVirtualEnv"],[32,21,122,1],[32,24,122,1,"require"],[32,31,122,1],[32,32,122,1,"_dependencyMap"],[32,46,122,1],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,2,0],[34,6,2,0,"_expoSecureStore"],[34,22,2,0],[34,25,2,0,"require"],[34,32,2,0],[34,33,2,0,"_dependencyMap"],[34,47,2,0],[35,2,2,0],[35,6,2,0,"SecureStore"],[35,17,2,0],[35,20,2,0,"_interopNamespace"],[35,37,2,0],[35,38,2,0,"_expoSecureStore"],[35,54,2,0],[36,2,3,0],[36,6,3,0,"_axios"],[36,12,3,0],[36,15,3,0,"require"],[36,22,3,0],[36,23,3,0,"_dependencyMap"],[36,37,3,0],[37,2,3,0],[37,6,3,0,"axios"],[37,11,3,0],[37,14,3,0,"_interopDefault"],[37,29,3,0],[37,30,3,0,"_axios"],[37,36,3,0],[38,2,3,26],[38,6,3,26,"_reactJsxDevRuntime"],[38,25,3,26],[38,28,3,26,"require"],[38,35,3,26],[38,36,3,26,"_dependencyMap"],[38,50,3,26],[39,2,5,0],[39,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[39,31,5,29],[39,34,5,29,"_expoVirtualEnv"],[39,49,5,29],[39,50,5,29,"env"],[39,53,5,29],[39,54,5,29,"EXPO_PUBLIC_BACKEND_URL"],[39,77,5,67],[40,2,6,0],[40,8,6,6,"API_URL"],[40,15,6,13],[40,18,6,16],[40,21,6,19,"EXPO_PUBLIC_BACKEND_URL"],[40,44,6,42],[40,50,6,48],[41,2,36,0],[41,8,36,6,"AuthContext"],[41,19,36,17],[41,35,36,20],[41,39,36,20,"createContext"],[41,45,36,33],[41,46,36,33,"createContext"],[41,59,36,33],[41,61,36,63,"undefined"],[41,70,36,72],[41,71,36,73],[42,2,38,7],[42,11,38,16,"AuthProvider"],[42,23,38,28,"AuthProvider"],[42,24,38,29],[43,4,38,31,"children"],[44,2,38,71],[44,3,38,72],[44,5,38,74],[45,4,38,74,"_s"],[45,6,38,74],[46,4,39,2],[46,10,39,8],[46,11,39,9,"user"],[46,15,39,13],[46,17,39,15,"setUser"],[46,24,39,22],[46,25,39,23],[46,28,39,26],[46,32,39,26,"useState"],[46,38,39,34],[46,39,39,34,"useState"],[46,47,39,34],[46,49,39,48],[46,53,39,52],[46,54,39,53],[47,4,40,2],[47,10,40,8],[47,11,40,9,"token"],[47,16,40,14],[47,18,40,16,"setToken"],[47,26,40,24],[47,27,40,25],[47,30,40,28],[47,34,40,28,"useState"],[47,40,40,36],[47,41,40,36,"useState"],[47,49,40,36],[47,51,40,52],[47,55,40,56],[47,56,40,57],[48,4,41,2],[48,10,41,8],[48,11,41,9,"isLoading"],[48,20,41,18],[48,22,41,20,"setIsLoading"],[48,34,41,32],[48,35,41,33],[48,38,41,36],[48,42,41,36,"useState"],[48,48,41,44],[48,49,41,44,"useState"],[48,57,41,44],[48,59,41,45],[48,63,41,49],[48,64,41,50],[49,4,43,2],[49,8,43,2,"useEffect"],[49,14,43,11],[49,15,43,11,"useEffect"],[49,24,43,11],[49,26,43,12],[49,32,43,18],[50,6,44,4,"loadStoredAuth"],[50,20,44,18],[50,21,44,19],[50,22,44,20],[51,4,45,2],[51,5,45,3],[51,7,45,5],[51,9,45,7],[51,10,45,8],[52,4,47,2],[52,10,47,8,"loadStoredAuth"],[52,24,47,22],[52,27,47,25],[52,33,47,25,"loadStoredAuth"],[52,34,47,25],[52,39,47,37],[53,6,48,4],[53,10,48,8],[54,8,49,6],[54,14,49,12,"storedToken"],[54,25,49,23],[54,28,49,26],[54,34,49,32,"SecureStore"],[54,45,49,43],[54,46,49,44,"getItemAsync"],[54,58,49,56],[54,59,49,57],[54,71,49,69],[54,72,49,70],[55,8,50,6],[55,14,50,12,"storedUser"],[55,24,50,22],[55,27,50,25],[55,33,50,31,"SecureStore"],[55,44,50,42],[55,45,50,43,"getItemAsync"],[55,57,50,55],[55,58,50,56],[55,69,50,67],[55,70,50,68],[56,8,52,6],[56,12,52,10,"storedToken"],[56,23,52,21],[56,27,52,25,"storedUser"],[56,37,52,35],[56,39,52,37],[57,10,53,8,"setToken"],[57,18,53,16],[57,19,53,17,"storedToken"],[57,30,53,28],[57,31,53,29],[58,10,54,8,"setUser"],[58,17,54,15],[58,18,54,16,"JSON"],[58,22,54,20],[58,23,54,21,"parse"],[58,28,54,26],[58,29,54,27,"storedUser"],[58,39,54,37],[58,40,54,38],[58,41,54,39],[59,8,55,6],[60,6,56,4],[60,7,56,5],[60,8,56,6],[60,15,56,13,"error"],[60,20,56,18],[60,22,56,20],[61,8,57,6,"console"],[61,15,57,13],[61,16,57,14,"error"],[61,21,57,19],[61,22,57,20],[61,43,57,41],[61,45,57,43,"error"],[61,50,57,48],[61,51,57,49],[62,6,58,4],[62,7,58,5],[62,16,58,14],[63,8,59,6,"setIsLoading"],[63,20,59,18],[63,21,59,19],[63,26,59,24],[63,27,59,25],[64,6,60,4],[65,4,61,2],[65,5,61,3],[66,4,63,2],[66,10,63,8,"login"],[66,15,63,13],[66,18,63,16],[66,24,63,16,"login"],[66,25,63,23,"login"],[66,30,63,36],[66,32,63,38,"password"],[66,40,63,54],[66,45,63,59],[67,6,64,4],[67,10,64,8],[68,8,65,6],[68,14,65,12,"response"],[68,22,65,20],[68,25,65,23],[68,31,65,29,"axios"],[68,36,65,34],[68,37,65,34,"default"],[68,44,65,34],[68,45,65,35,"post"],[68,49,65,39],[68,50,65,40],[68,53,65,43,"API_URL"],[68,60,65,50],[68,73,65,63],[68,75,65,65],[69,10,66,8,"login"],[69,15,66,13],[70,10,67,8,"password"],[71,8,68,6],[71,9,68,7],[71,10,68,8],[72,8,70,6],[72,14,70,12],[73,10,70,14,"access_token"],[73,22,70,26],[74,10,70,28,"user"],[74,14,70,32],[74,16,70,34,"userData"],[75,8,70,43],[75,9,70,44],[75,12,70,47,"response"],[75,20,70,55],[75,21,70,56,"data"],[75,25,70,60],[76,8,72,6],[76,14,72,12,"SecureStore"],[76,25,72,23],[76,26,72,24,"setItemAsync"],[76,38,72,36],[76,39,72,37],[76,51,72,49],[76,53,72,51,"access_token"],[76,65,72,63],[76,66,72,64],[77,8,73,6],[77,14,73,12,"SecureStore"],[77,25,73,23],[77,26,73,24,"setItemAsync"],[77,38,73,36],[77,39,73,37],[77,50,73,48],[77,52,73,50,"JSON"],[77,56,73,54],[77,57,73,55,"stringify"],[77,66,73,64],[77,67,73,65,"userData"],[77,75,73,73],[77,76,73,74],[77,77,73,75],[78,8,75,6,"setToken"],[78,16,75,14],[78,17,75,15,"access_token"],[78,29,75,27],[78,30,75,28],[79,8,76,6,"setUser"],[79,15,76,13],[79,16,76,14,"userData"],[79,24,76,22],[79,25,76,23],[80,6,77,4],[80,7,77,5],[80,8,77,6],[80,15,77,13,"error"],[80,20,77,23],[80,22,77,25],[81,8,78,6],[81,14,78,12],[81,18,78,16,"Error"],[81,23,78,21],[81,24,78,22,"error"],[81,29,78,27],[81,30,78,28,"response"],[81,38,78,36],[81,40,78,38,"data"],[81,44,78,42],[81,46,78,44,"detail"],[81,52,78,50],[81,56,78,54],[81,70,78,68],[81,71,78,69],[82,6,79,4],[83,4,80,2],[83,5,80,3],[84,4,82,2],[84,10,82,8,"register"],[84,18,82,16],[84,21,82,19],[84,27,82,26,"data"],[84,31,82,44],[84,35,82,49],[85,6,83,4],[85,10,83,8],[86,8,84,6],[86,14,84,12,"response"],[86,22,84,20],[86,25,84,23],[86,31,84,29,"axios"],[86,36,84,34],[86,37,84,34,"default"],[86,44,84,34],[86,45,84,35,"post"],[86,49,84,39],[86,50,84,40],[86,53,84,43,"API_URL"],[86,60,84,50],[86,76,84,66],[86,78,84,68,"data"],[86,82,84,72],[86,83,84,73],[87,8,86,6],[87,14,86,12],[88,10,86,14,"access_token"],[88,22,86,26],[89,10,86,28,"user"],[89,14,86,32],[89,16,86,34,"userData"],[90,8,86,43],[90,9,86,44],[90,12,86,47,"response"],[90,20,86,55],[90,21,86,56,"data"],[90,25,86,60],[91,8,88,6],[91,14,88,12,"SecureStore"],[91,25,88,23],[91,26,88,24,"setItemAsync"],[91,38,88,36],[91,39,88,37],[91,51,88,49],[91,53,88,51,"access_token"],[91,65,88,63],[91,66,88,64],[92,8,89,6],[92,14,89,12,"SecureStore"],[92,25,89,23],[92,26,89,24,"setItemAsync"],[92,38,89,36],[92,39,89,37],[92,50,89,48],[92,52,89,50,"JSON"],[92,56,89,54],[92,57,89,55,"stringify"],[92,66,89,64],[92,67,89,65,"userData"],[92,75,89,73],[92,76,89,74],[92,77,89,75],[93,8,91,6,"setToken"],[93,16,91,14],[93,17,91,15,"access_token"],[93,29,91,27],[93,30,91,28],[94,8,92,6,"setUser"],[94,15,92,13],[94,16,92,14,"userData"],[94,24,92,22],[94,25,92,23],[95,6,93,4],[95,7,93,5],[95,8,93,6],[95,15,93,13,"error"],[95,20,93,23],[95,22,93,25],[96,8,94,6],[96,14,94,12],[96,18,94,16,"Error"],[96,23,94,21],[96,24,94,22,"error"],[96,29,94,27],[96,30,94,28,"response"],[96,38,94,36],[96,40,94,38,"data"],[96,44,94,42],[96,46,94,44,"detail"],[96,52,94,50],[96,56,94,54],[96,77,94,75],[96,78,94,76],[97,6,95,4],[98,4,96,2],[98,5,96,3],[99,4,98,2],[99,10,98,8,"logout"],[99,16,98,14],[99,19,98,17],[99,25,98,17,"logout"],[99,26,98,17],[99,31,98,29],[100,6,99,4],[100,10,99,8],[101,8,100,6],[101,14,100,12,"SecureStore"],[101,25,100,23],[101,26,100,24,"deleteItemAsync"],[101,41,100,39],[101,42,100,40],[101,54,100,52],[101,55,100,53],[102,8,101,6],[102,14,101,12,"SecureStore"],[102,25,101,23],[102,26,101,24,"deleteItemAsync"],[102,41,101,39],[102,42,101,40],[102,53,101,51],[102,54,101,52],[103,8,102,6,"setToken"],[103,16,102,14],[103,17,102,15],[103,21,102,19],[103,22,102,20],[104,8,103,6,"setUser"],[104,15,103,13],[104,16,103,14],[104,20,103,18],[104,21,103,19],[105,6,104,4],[105,7,104,5],[105,8,104,6],[105,15,104,13,"error"],[105,20,104,18],[105,22,104,20],[106,8,105,6,"console"],[106,15,105,13],[106,16,105,14,"error"],[106,21,105,19],[106,22,105,20],[106,42,105,40],[106,44,105,42,"error"],[106,49,105,47],[106,50,105,48],[107,6,106,4],[108,4,107,2],[108,5,107,3],[109,4,109,2],[109,24,110,4],[109,28,110,4,"_reactJsxDevRuntime"],[109,47,110,4],[109,48,110,4,"jsxDEV"],[109,54,110,4],[109,56,110,5,"AuthContext"],[109,67,110,16],[109,68,110,17,"Provider"],[109,76,110,25],[110,6,110,26,"value"],[110,11,110,31],[110,13,110,33],[111,8,110,35,"user"],[111,12,110,39],[112,8,110,41,"token"],[112,13,110,46],[113,8,110,48,"login"],[113,13,110,53],[114,8,110,55,"register"],[114,16,110,63],[115,8,110,65,"logout"],[115,14,110,71],[116,8,110,73,"isLoading"],[117,6,110,83],[117,7,110,85],[118,6,110,85,"children"],[118,14,110,85],[118,16,111,7,"children"],[119,4,111,15],[120,6,111,15,"fileName"],[120,14,111,15],[120,16,111,15,"_jsxFileName"],[120,28,111,15],[121,6,111,15,"lineNumber"],[121,16,111,15],[122,6,111,15,"columnNumber"],[122,18,111,15],[123,4,111,15],[123,11,112,26],[123,12,112,27],[124,2,114,0],[125,2,114,1,"_s"],[125,4,114,1],[125,5,38,16,"AuthProvider"],[125,17,38,28],[126,2,38,28,"_c"],[126,4,38,28],[126,7,38,16,"AuthProvider"],[126,19,38,28],[127,2,116,7],[127,11,116,16,"useAuth"],[127,18,116,23,"useAuth"],[127,19,116,23],[127,21,116,26],[128,4,116,26,"_s2"],[128,7,116,26],[129,4,117,2],[129,10,117,8,"context"],[129,17,117,15],[129,20,117,18],[129,24,117,18,"useContext"],[129,30,117,28],[129,31,117,28,"useContext"],[129,41,117,28],[129,43,117,29,"AuthContext"],[129,54,117,40],[129,55,117,41],[130,4,118,2],[130,8,118,6,"context"],[130,15,118,13],[130,20,118,18,"undefined"],[130,29,118,27],[130,31,118,29],[131,6,119,4],[131,12,119,10],[131,16,119,14,"Error"],[131,21,119,19],[131,22,119,20],[131,67,119,65],[131,68,119,66],[132,4,120,2],[133,4,121,2],[133,11,121,9,"context"],[133,18,121,16],[134,2,122,0],[135,2,122,1,"_s2"],[135,5,122,1],[135,6,116,16,"useAuth"],[135,13,116,23],[136,2,116,23],[136,6,116,23,"_c"],[136,8,116,23],[137,2,116,23,"$RefreshReg$"],[137,14,116,23],[137,15,116,23,"_c"],[137,17,116,23],[138,0,116,23],[138,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCqC;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJc;iBKE;GLS;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}